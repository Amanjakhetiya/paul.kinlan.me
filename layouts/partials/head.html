<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="iem7"><![endif]-->
<html lang="en">
<head lang="en">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="dns-prefetch" href="https://www.youtube.com">
  <link rel="dns-prefetch" href="https://www.google-analytics.com">
  <link rel="dns-prefetch" href="https://a.disquscdn.com">
  <link rel="dns-prefetch" href="https://paulkinlan.disqus.com">
  <link rel="dns-prefetch" href="https://s.ytimg.com">
  <meta http-equiv="Accept-CH" content="DPR, Viewport-Width, Width">
  
  <title>{{ if .Title }}{{ .Title }} - {{ end }}{{ .Site.Title }}</title>
  <meta name="author" content="{{ .Site.Params.author }}">
  <meta name="theme-color" content="{{ if .Params.themecolor }}#{{ .Params.themecolor}}{{ else }}000000{{ end }}">
  {{if .Params.image_header}}
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="{{.Params.image_header}}">
  {{else}}
  <meta name="twitter:card" content="summary">
  {{end}}
  <meta name="twitter:site" content="@paul_kinlan">
  <meta name="twitter:creator" content="@paul_kinlan">
  {{ if .Title }}
  <meta name="twitter:title" content="{{ .Title }} ">
  {{end}}
  {{ if .Description }}
  <meta name="description" content="{{ .Description }}">
  <meta name="twitter:description" content="{{ .Description }}">
  {{ end }}
  <link href="/images/me.png" rel="icon">
  <link href="/manifest.json" rel="manifest">

  {{ partial "notcriticalcss.html" . }}
  
  <link href="/index.xml" rel="alternate" type="application/rss+xml" title="{{ .Site.Title }}" />
  <link href="/index.xml" rel="feed" type="application/rss+xml" title="{{ .Site.Title }}" />
  {{ partial "google_analytics.html" . }}  
  
  <script>
  navigator.serviceWorker.register('/sw.js')
    .then(function(registration) { }, 
          function(e) { console.log("Service Worker Failure", e); });
  
  if(navigator.share !== undefined) {
   
    document.addEventListener('DOMContentLoaded', e => {
      var shareBtn = document.querySelector('div.share a');
      shareBtn.addEventListener('click', clickEvent => {
        clickEvent.preventDefault();
        navigator.share({title: document.title, url: window.location.href})
          .then(() => console.log('Successful share'),
           error => console.log('Error sharing:', error));
      });
    });
  }
  </script>
</head>
